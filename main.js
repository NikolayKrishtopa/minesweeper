(()=>{"use strict";var e="";const t=e+"d0e0eae272176434d94d.svg",n=e+"75459fd89d20e57de2fc.svg",o=e+"3276cbafab3a0d717acc.svg",r=e+"ab0a95248bc1d2bdaa31.svg",i=e+"aed2417bff11d2871d89.svg",a=e+"7094332383a0945691c8.svg",s=e+"ddf47037d4699c61ff42.svg",l=e+"207813d9b6066c124c83.svg",c=e+"b028d652b73d8669e2e9.svg",u=e+"assets/sounds/open.mp3",f=e+"assets/sounds/bomb.mp3",d=e+"assets/sounds/win.mp3",m=e+"assets/sounds/deactivate.mp3";function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,v(o.key),o)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var g=y((function e(p,b,y){var v=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"createGameModeMenu",(function(){v.optionsPanel=document.createElement("div"),v.optionsPanel.classList.add("nav-panel__game-options"),v.difficultySelector=document.createElement("select"),v.difficultySelector.classList.add("nav-panel__selector"),v.restartBtn=document.createElement("button"),v.restartBtn.classList.add("nav-panel__restart-btn"),v.restartBtn.textContent="Restart",v.difficultySelector.innerHTML='\n      <option value="easy" class="nav-panel__option">easy</option>\n      <option value="medium" class="nav-panel__option">medium</option>\n      <option value="hard" class="nav-panel__option">hard</option>',v.bombQtySelector=document.createElement("select"),v.bombQtySelector.classList.add("nav-panel__selector");for(var e=10;e<100;e+=1){var t=document.createElement("option");t.classList.add("nav-panel__option"),t.value=e,t.textContent=e,v.bombQtySelector.append(t)}v.optionsPanel.append(v.difficultySelector),v.optionsPanel.append(v.bombQtySelector),v.optionsPanel.append(v.restartBtn),Array.from(v.difficultySelector.options).find((function(e){return e.value===v.state.difficulty})).selected=!0,Array.from(v.bombQtySelector.options).find((function(e){return e.value.toString()===v.state.bombQty.toString()})).selected=!0})),h(this,"createNavPanel",(function(){return v.createGameModeMenu(),v.navPanel=document.createElement("div"),v.navPanel.classList.add("nav-panel"),v.navPanel.append(v.optionsPanel),v.navPanel})),h(this,"createMainLayout",(function(){v.mainElem=document.createElement("main"),v.mainElem.classList.add("content"),v.mainElem.append(v.createNavPanel()),v.fieldContainer=document.createElement("div"),v.fieldContainer.classList.add("content__container"),v.fieldContainer.append(v.generateField()),v.mainElem.append(v.fieldContainer),v.root.append(v.mainElem)})),h(this,"incrementOpenCells",(function(){v.state.gameInProcess&&(v.state.openCells+=1,v.state.openCells===Math.pow(v.field.size,2)-v.state.bombQty?v.win():v.state.soundOn&&(v.openCellSnd.currentTime=0,v.openCellSnd.play()))})),h(this,"incrementMoves",(function(){v.state.gameInProcess||v.startTimer(),v.state.movesDone+=1,v.score.textContent=v.state.movesDone})),h(this,"loose",(function(){v.state.soundOn&&(v.bombSnd.currentTime=0,v.bombSnd.play()),v.stopTimer(),v.state.history.unshift({result:"fail",score:v.state.movesDone,time:v.state.seconds}),v.state.history=v.state.history.splice(0,10),v.popupRes.open("Game over. Try again"),v.blockClicking(),v.field.showAll()})),h(this,"win",(function(){v.state.soundOn&&(v.winSnd.currentTime=0,v.winSnd.play()),v.stopTimer(),v.state.history.unshift({result:"win",score:v.state.movesDone,time:v.state.seconds}),v.state.history=v.state.history.splice(0,10),v.popupRes.open("Hooray! You found all mines in ".concat(v.state.seconds," seconds and ").concat(v.state.movesDone," moves!")),v.blockClicking(),v.field.showAll()})),h(this,"generateField",(function(){return v.field=v.createField(v.state.fieldState),v.fieldElement=v.field.generateField(),v.fieldElement})),h(this,"restartField",(function(){v.fieldElement&&(v.fieldElement.remove(),v.fieldContainer.append(v.generateField()))})),h(this,"addPopup",(function(){v.root.append(v.popupRes.getElement()),v.root.append(v.popupStats.getElement())})),h(this,"startTimer",(function(){v.state.gameInProcess=!0,clearTimeout(v.timer),v.timer=setTimeout((function(){v.state.seconds+=1,v.timerCanvas.textContent=v.state.seconds,v.startTimer(),v.cashState()}),1e3)})),h(this,"stopTimer",(function(){clearTimeout(v.timer),v.state.gameInProcess=!1})),h(this,"constructHeader",(function(){var e=document.createElement("header");e.classList.add("header"),e.innerHTML='\n    <header class="header">\n      <div class="header__container">\n        <h1 class="header__logo">Minesweeper</h1>\n        \n        <div class="header__params">      \n          <div class="header__param">      \n            <img src="'.concat(s,'" alt="time counter"/>\n            <p class="header__param-text" id="timeCounter"></p>\n          </div>\n          <div class="header__param">      \n            <img src="').concat(c,'" alt="moves counter"/>\n            <p class="header__param-text" id="movesCounter"></p>\n          </div>\n          <div class="header__param">      \n            <img src="').concat(a,'" alt="flags counter"/>\n            <p class="header__param-text" id="flagCounter"></p>\n          </div>\n          <div class="header__param">      \n            <img src="').concat(i,'" alt="bombs counter"/>\n            <p class="header__param-text" id="bombCounter"></p>\n          </div>\n        </div>\n        <div class="header__nav">      \n          <button class="header__btn" id="statsBtn">\n            <img src="').concat(l,'" alt="statistic"/>\n          </button>\n          <button class="header__btn" id="soundBtn">\n            <img src="#" alt="sound button"/>\n          </button>\n          <button class="header__btn " id="themeBtn">\n            <img src="#" alt="default theme button" />\n          </button>\n        </div>\n      </div>\n    </header>\n    '),v.root.prepend(e),v.themeBtn=v.root.querySelector("#themeBtn"),v.statsBtn=v.root.querySelector("button"),v.soundBtn=v.root.querySelector("#soundBtn"),v.timerCanvas=document.querySelector("#timeCounter"),v.score=document.querySelector("#movesCounter"),v.timerCanvas.textContent=v.state.seconds,v.score.textContent=v.state.movesDone,v.flagCounter=document.querySelector("#flagCounter"),v.remainingBombCounter=document.querySelector("#bombCounter")})),h(this,"renderFlags",(function(){v.flagCounter.textContent=v.state.flags;var e=v.state.bombQty-v.state.flags;v.remainingBombCounter.textContent=e<0?0:e})),h(this,"createLayoutStructure",(function(){v.constructHeader(),v.createMainLayout(),v.addPopup()})),h(this,"renderTheme",(function(){var e=v.themeBtn.querySelector("img");switch(v.state.theme){case"default":v.root.classList.remove("dark"),e.src=n,e.alt="default theme button";break;case"dark":v.root.classList.add("dark"),e.src=t,e.alt="dark theme button"}})),h(this,"renderSoundBtn",(function(){switch(v.state.soundOn){case!0:v.soundBtn.querySelector("img").src=o;break;case!1:v.soundBtn.querySelector("img").src=r}})),h(this,"toggleTheme",(function(){"default"===v.state.theme?v.state.theme="dark":v.state.theme="default",v.renderTheme()})),h(this,"toggleSound",(function(){v.state.soundOn=!v.state.soundOn,v.renderSoundBtn()})),h(this,"restart",(function(){v.state.gameInProcess&&(v.state.history.unshift({result:"unfinished",score:v.state.movesDone,time:v.state.seconds}),v.state.history=v.state.history.splice(0,10),v.stopTimer()),v.resetState(),v.restartField(),v.cashState()})),h(this,"resetState",(function(){v.state.fieldState=null,v.state.movesDone=0,v.state.openCells=0,v.state.seconds=0,v.timerCanvas.textContent=v.state.seconds,v.score.textContent=v.state.movesDone,v.state.flags=0,v.renderFlags()})),h(this,"blockClicking",(function(){v.field.field.style.pointerEvents="none"})),h(this,"setListeners",(function(){v.difficultySelector.addEventListener("change",(function(e){v.state.difficulty=e.target.value,v.restart()})),v.bombQtySelector.addEventListener("change",(function(e){v.state.bombQty=e.target.value,v.restart()})),v.restartBtn.addEventListener("click",v.restart),v.themeBtn.addEventListener("click",v.toggleTheme),v.statsBtn.addEventListener("click",(function(){return v.popupStats.open(v.state.history)})),v.soundBtn.addEventListener("click",v.toggleSound)})),h(this,"initiate",(function(){v.createLayoutStructure(),v.setListeners(),v.renderTheme(),v.renderFlags(),v.renderSoundBtn(),v.state.gameInProcess&&v.startTimer()})),h(this,"getRemainigFlags",(function(){return v.state.bombQty-v.state.flags})),h(this,"handleFlag",(function(e,t){switch(e){case"set":v.state.bombQty-v.state.flags!=0&&(v.state.flags+=1,v.renderFlags(),v.state.soundOn&&t&&(v.flagSound.currentTime=0,v.flagSound.play()));break;case"unset":v.state.flags-=1,v.renderFlags(),v.state.soundOn&&t&&(v.flagSound.currentTime=0,v.flagSound.play())}})),h(this,"cashState",(function(){var e;v.state.fieldState=v.field.state,v.state.fieldState.cellsState=null===(e=v.field)||void 0===e?void 0:e.cellsMatrix.map((function(e){return e.map((function(e){return e.state}))})),localStorage.setItem("minesweeperState",JSON.stringify(v.state))})),this.flagSound=new Audio(m),this.openCellSnd=new Audio(u),this.bombSnd=new Audio(f),this.winSnd=new Audio(d),this.popupRes=y("result",this.restart),this.createField=function(e){return p(v.state.difficulty,v.state.bombQty,b,v.incrementMoves,v.loose,v.incrementOpenCells,v.cashState,e,v.handleFlag,v.getRemainigFlags)},this.root=document.querySelector(".root"),this.state=JSON.parse(localStorage.getItem("minesweeperState"))||{bombQty:10,movesDone:0,openCells:0,flags:0,theme:"default",seconds:0,history:[],fieldState:null,gameInProcess:!1,soundOn:!0,difficulty:"easy"},this.popupStats=y("history",this.state.history),this.field=null,this.initiate()}));function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,E(o.key),o)}}function w(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==S(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}var P=w((function e(t,n,o,r,i,a,s,l,c,u){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"calcSize",(function(){switch(f.difficulty){case"easy":f.size=10;break;case"medium":f.size=15;break;case"hard":f.size=25}})),L(this,"generateBombs",(function(e){if(!f.state.bombsPlaced){if(!f.bombs.length)for(var t=f.cellsFlat.filter((function(t){return t.coordinates.row!==e.row||t.coordinates.column!==e.column})),n=function(){var e=Math.floor(Math.random()*t.length);f.bombs.push(t[e]),t=t.filter((function(t,n){return n!==e}))},o=f.bombQty;o>0;o-=1)n();f.bombs.forEach((function(e){return e.setBomb()})),f.calculateValues(),f.state.bombsPlaced=!0}})),L(this,"calculateValues",(function(){f.cellsFlat.forEach((function(e){for(var t=0,n=e.coordinates.row-1;n<=e.coordinates.row+1;n+=1)if(f.cellsMatrix[n])for(var o=e.coordinates.column-1;o<=e.coordinates.column+1;o+=1){var r;null!=f&&null!==(r=f.cellsMatrix[n][o])&&void 0!==r&&r.state.isBomb&&(t+=1)}e.setValue(t)}))})),L(this,"checkSurround",(function(e){for(var t=e.row-1;t<=e.row+1;t+=1)if(f.cellsMatrix[t])for(var n=e.column-1;n<=e.column+1;n+=1){var o;null!=f&&null!==(o=f.cellsMatrix[t][n])&&void 0!==o&&o.state.isClosed&&(1===Math.abs(t-e.row)&&1===Math.abs(n-e.column)||f.cellsMatrix[t][n].open())}})),L(this,"generateCells",(function(){for(var e=0;e<f.size;e+=1){for(var t=[],n=0;n<f.size;n+=1){var o,r,i,a,s=null;(null===(o=f.state)||void 0===o||null===(r=o.cellsState)||void 0===r?void 0:r.length)>=e&&(null===(i=f.state)||void 0===i||null===(a=i.cellsState[e])||void 0===a?void 0:a.length)>=n&&(s=f.state.cellsState[e][n]);var l=f.createCell({row:e,column:n},s);t.push(l)}f.cellsMatrix.push(t)}f.cellsFlat=Array.from(f.cellsMatrix.flat())})),L(this,"createFieldLayout",(function(){f.field=document.createElement("div"),f.field.classList.add("field"),f.field.classList.add("field_size_".concat(f.size));for(var e=0;e<f.size;e+=1){var t=document.createElement("div");t.classList.add("field__row"),f.field.append(t);for(var n=0;n<f.size;n+=1)t.append(f.cellsMatrix[e][n].createLayout())}})),L(this,"showAll",(function(){f.cellsFlat.forEach((function(e){e.state.isClosed&&e.open()}))})),L(this,"generateField",(function(){return f.createFieldLayout(),f.field})),L(this,"initiate",(function(){f.calcSize(),f.generateCells()})),this.createCell=function(e,t){return o(e,f.generateBombs,r,i,f.checkSurround,a,s,t,c,u)},this.state=l||{bombsPlaced:!1},this.cellsMatrix=[],this.cellsFlat=[],this.difficulty=t,this.bombQty=n,this.bombs=[],this.initiate()}));function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,k(o.key),o)}}function B(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===C(t)?t:String(t)}var T=B((function e(t,n,o,r,i,a,s,l,c,u){var f=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"createLayout",(function(){return f.element=document.createElement("div"),f.element.classList.add("field__cell"),f.element.classList.add("field__cell_state_locked"),f.cellText=document.createElement("p"),f.cellText.classList.add("field__text"),f.element.append(f.cellText),f.setListeners(),f.renderState(),f.element})),j(this,"setBomb",(function(){f.state.isBomb=!0,f.renderState()})),j(this,"setValue",(function(e){f.state.value=e,f.renderState()})),j(this,"open",(function(){f.state.isFlagged&&f.flag(),f.state.isClosed=!1,f.state.isBomb||(f.incrementOpenCells(),0===f.state.value&&f.checkSurround()),f.renderState()})),j(this,"handleMove",(function(){f.state.isClosed&&(f.generateBombs(f.coordinates),f.state.isBomb?f.loose():f.incrementMove(),f.open(),f.element.removeEventListener("click",f.handleMove),f.element.removeEventListener("contextmenu",f.flag),f.cashState())})),j(this,"renderState",(function(){f.state.isClosed?f.element.classList.add("field__cell_state_locked"):f.element.classList.remove("field__cell_state_locked"),f.state.isBomb?f.element.classList.add("field__cell_state_bomb"):f.element.classList.remove("field__cell_state_bomb"),f.state.isFlagged?f.element.classList.add("field__cell_state_flag"):f.element.classList.remove("field__cell_state_flag"),f.cellText.textContent=0===f.state.value||f.state.isBomb?"":f.state.value,f.element.classList.add("field__cell_danger_".concat(f.state.value))})),j(this,"flag",(function(e){e&&e.preventDefault(),f.state.isFlagged?(f.state.isFlagged=!1,f.renderState(),f.handleFlag("unset",!!e),f.element.addEventListener("click",f.handleMove),f.cashState()):f.getRemainigFlags()>0&&(f.state.isFlagged=!0,f.renderState(),f.handleFlag("set",!!e),f.element.removeEventListener("click",f.handleMove),f.cashState())})),j(this,"setListeners",(function(){f.element.addEventListener("click",f.handleMove),f.element.addEventListener("contextmenu",f.flag)})),this.state=l||{isClosed:!0,value:0,isBomb:!1,isFlagged:!1},this.cashState=s,this.incrementOpenCells=a,this.loose=r,this.checkSurround=function(){return i(f.coordinates)},this.incrementMove=o,this.coordinates=t,this.generateBombs=n,this.handleFlag=c,this.getRemainigFlags=u}));function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,M(o.key),o)}}function M(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==x(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===x(t)?t:String(t)}var R=function(){function e(){var t,n,o,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,o=function(){r.element.classList.remove("popup_state_open"),r.unsetListeners()},(n=M(n="close"))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,this.initiate()}var t,n;return t=e,(n=[{key:"create",value:function(){var e=this;this.element=document.createElement("div"),this.element.classList.add("popup"),this.container=document.createElement("div"),this.container.classList.add("popup__container"),this.element.append(this.container),this.message=document.createElement("p"),this.message.classList.add("popup__text"),this.closeBtn=document.createElement("button"),this.closeBtn.classList.add("popup__button"),this.closeBtn.textContent="Close",[this.message,this.closeBtn].forEach((function(t){return e.container.append(t)}))}},{key:"setListeners",value:function(){this.closeBtn.addEventListener("click",this.close)}},{key:"unsetListeners",value:function(){this.closeBtn.removeEventListener("click",this.close)}},{key:"getElement",value:function(){return this.element}},{key:"open",value:function(){this.element.classList.add("popup_state_open"),this.setListeners()}},{key:"initiate",value:function(){this.create()}}])&&F(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,H(o.key),o)}}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},A.apply(this,arguments)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function H(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==Q(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Q(t)?t:String(t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(a,e);var t,n,o,r,i=(o=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(o);if(r){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}(this,e)});function a(e){var t,n,o,r,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=q(n=i.call(this)),s=function(){A((t=q(n),I(a.prototype)),"create",t).call(t),n.restartBtn=document.createElement("button"),n.restartBtn.classList.add("popup__button"),n.restartBtn.textContent="Retry",n.container.append(n.restartBtn)},(r=H(r="create"))in o?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,n.onRestart=function(){e(),n.close()},n.initiate(),n}return t=a,(n=[{key:"open",value:function(e){A(I(a.prototype),"open",this).call(this),this.message.textContent=e}},{key:"setListeners",value:function(){A(I(a.prototype),"setListeners",this).call(this),this.restartBtn.addEventListener("click",this.onRestart)}},{key:"unsetListeners",value:function(){A(I(a.prototype),"unsetListeners",this).call(this),this.restartBtn.removeEventListener("click",this.onRestart)}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(R);const V=e+"1f1d34439853645b1cbe.svg";function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},K.apply(this,arguments)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function W(e,t,n){return(t=X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==G(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,n,o,r=(n=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(n);if(o){var r=U(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}(this,e)});function i(){var e,t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),W(Y(n=r.call(this)),"create",(function(){K((e=Y(n),U(i.prototype)),"create",e).call(e),n.message.textContent="Your last 10 plays stats",n.element.classList.add("popup_type_stats"),n.closeBtn.classList.add("popup__button_type_close"),n.closeBtn.textContent="";var t=document.createElement("img");n.closeBtn.append(t),t.src=V,t.alt="Close window",n.list=document.createElement("ul"),n.list.classList.add("popup__list"),n.container.append(n.list)})),W(Y(n),"renderList",(function(){n.list.innerHTML="",n.records.forEach((function(e,t){var o=document.createElement("li");o.classList.add("popup__list-item"),o.textContent="".concat(t+1,". Moves: ").concat(e.score,", time: ").concat(e.time," sec. ").concat(e.result),n.list.append(o)}))})),W(Y(n),"open",(function(e){K((t=Y(n),U(i.prototype)),"open",t).call(t),n.records=e,n.renderList()})),n.initiate(),n}return t=i,Object.defineProperty(t,"prototype",{writable:!1}),t}(R);new g((function(e,t,n,o,r,i,a,s,l,c){return new P(e,t,n,o,r,i,a,s,l,c)}),(function(e,t,n,o,r,i,a,s,l,c){return new T(e,t,n,o,r,i,a,s,l,c)}),(function(e,t){return"result"===e?new N(t):new Z(t)}))})();